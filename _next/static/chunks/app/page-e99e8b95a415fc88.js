(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3229:function(n,e,o){Promise.resolve().then(o.bind(o,6304))},6304:function(n,e,o){"use strict";o.r(e),o.d(e,{default:function(){return D}});var t=o(5008),r=o(7437),i=o(2265),a=o(2840);let d=()=>{let[n,e]=(0,i.useState)([]),[o,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!1),d=async()=>{try{if(!(await fetch("/api/init",{method:"POST"})).ok)throw Error("Failed to initialize database");a(!0)}catch(n){console.error("Error initializing database:",n),t("Failed to initialize database")}},l=async()=>{try{let n=await fetch("/api/todos");if(!n.ok)throw Error("Failed to fetch todos");let o=await n.json();e(o)}catch(n){console.error("Error fetching todos:",n),t("Failed to fetch todos")}};return(0,i.useEffect)(()=>{(async()=>{await d(),await l()})()},[]),{todos:n,error:o,addTodo:async n=>{try{let o=await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})});if(!o.ok)throw Error("Failed to add todo");let t=await o.json();e(n=>[...n,t])}catch(n){console.error("Error adding todo:",n),t("Failed to add todo")}},deleteTodo:async n=>{try{if(!(await fetch("/api/todos?id=".concat(n),{method:"DELETE"})).ok)throw Error("Failed to delete todo");e(e=>e.filter(e=>e.id!==n))}catch(n){console.error("Error deleting todo:",n),t("Failed to delete todo")}},isInitialized:r}};function l(){let n=(0,t._)(["\n  display: flex;\n  align-items: center;\n  padding: 1rem;\n  background-color: #ffffff;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  margin-bottom: 1rem;\n  transition: all 0.3s ease;\n\n  &:hover,\n  &:focus-within {\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n"]);return l=function(){return n},n}function c(){let n=(0,t._)(["\n  flex-grow: 1;\n  font-size: 1rem;\n  color: #333;\n"]);return c=function(){return n},n}function s(){let n=(0,t._)(["\n  background-color: #d63031;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover,\n  &:focus {\n    background-color: #ff4757;\n    outline: 2px solid #0984e3;\n    outline-offset: 2px;\n  }\n\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n"]);return s=function(){return n},n}let u=a.ZP.li(l()),f=a.ZP.span(c()),x=a.ZP.button(s()),b=n=>{let{todo:e,onDelete:o}=n;return(0,r.jsxs)(u,{children:[(0,r.jsx)(f,{children:e.text}),(0,r.jsx)(x,{onClick:()=>{o(e.id)},"aria-label":"Delete todo: ".concat(e.text),children:"Delete"})]})};function h(){let n=(0,t._)(["\n  display: flex;\n  margin-bottom: 2rem;\n"]);return h=function(){return n},n}function p(){let n=(0,t._)(["\n  flex-grow: 1;\n  padding: 0.75rem;\n  font-size: 1rem;\n  border: 2px solid #dfe6e9;\n  border-radius: 4px 0 0 4px;\n  transition: border-color 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #74b9ff;\n  }\n"]);return p=function(){return n},n}function g(){let n=(0,t._)(["\n  background-color: #0984e3;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  font-size: 1rem;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #74b9ff;\n  }\n"]);return g=function(){return n},n}let m=a.ZP.form(h()),w=a.ZP.input(p()),j=a.ZP.button(g()),k=n=>{let{onAdd:e}=n,[o,t]=(0,i.useState)("");return(0,r.jsxs)(m,{onSubmit:n=>{n.preventDefault(),o.trim()&&(e(o),t(""))},children:[(0,r.jsx)(w,{id:"new-todo",type:"text",value:o,onChange:n=>t(n.target.value),placeholder:"Add a new todo"}),(0,r.jsx)(j,{type:"submit",children:"+ Add"})]})};function y(){let n=(0,t._)(["\n  max-width: 600px;\n  margin: 2rem auto;\n  padding: 2rem;\n  background-color: #f8f9fa;\n  border-radius: 12px;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\n"]);return y=function(){return n},n}function _(){let n=(0,t._)(["\n  font-size: 2rem;\n  color: #2d3436;\n  margin-bottom: 2rem;\n  text-align: center;\n"]);return _=function(){return n},n}function E(){let n=(0,t._)(["\n  color: red;\n  text-align: center;\n"]);return E=function(){return n},n}let v=a.ZP.div(y()),P=a.ZP.h1(_()),T=a.ZP.p(E()),F=n=>{let{todos:e,error:o,onAddTodo:t,onDeleteTodo:i}=n;return(0,r.jsxs)(v,{role:"region","aria-label":"Todo List",children:[(0,r.jsx)(P,{children:"Todo List"}),o&&(0,r.jsx)(T,{role:"alert",children:o}),(0,r.jsx)(k,{onAdd:t}),(0,r.jsx)("ul",{children:e.map(n=>(0,r.jsx)(b,{todo:n,onDelete:i},n.id))})]})},S=()=>{let{todos:n,error:e,addTodo:o,deleteTodo:t}=d();return(0,r.jsx)(F,{todos:n,error:e,onAddTodo:o,onDeleteTodo:t})};function Z(){let n=(0,t._)(["\n  body {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    background-color: #dfe6e9;\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"]);return Z=function(){return n},n}let z=(0,a.vJ)(Z());var D=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{}),(0,r.jsx)(S,{})]})}},function(n){n.O(0,[771,971,117,744],function(){return n(n.s=3229)}),_N_E=n.O()}]);